<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Single Family Home for Sale in Palm Beach Gardens, FL - 4 beds</title>
    <meta name="description" content="4-bed, 3-bath property for sale in Palm Beach Gardens, FL, 2450 sqft. 2558 Gardens Parkway, Palm Beach Gardens, FL 33410">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://elephant.xyz/homes/public/homes/sample-property">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="place">
    <meta property="og:url" content="https://elephant.xyz/homes/public/homes/sample-property">
    <meta property="og:title" content="Single Family Home for Sale in Palm Beach Gardens, FL - 4 beds">
    <meta property="og:description" content="4-bed, 3-bath property for sale in Palm Beach Gardens, FL, 2450 sqft. 2558 Gardens Parkway, Palm Beach Gardens, FL 33410">
    <meta property="og:image" content="">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://elephant.xyz/homes/public/homes/sample-property">
    <meta property="twitter:title" content="Single Family Home for Sale in Palm Beach Gardens, FL - 4 beds">
    <meta property="twitter:description" content="4-bed, 3-bath property for sale in Palm Beach Gardens, FL, 2450 sqft. 2558 Gardens Parkway, Palm Beach Gardens, FL 33410">
    <meta property="twitter:image" content="">

    
        <style>/* Global Styles */
html {
  scroll-behavior: smooth;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: neue-haas-grotesk-display, system-ui, sans-serif;
  background-color: #ffffff;
  color: #423e3e;
  line-height: 1.5;
  letter-spacing: 0.03em;
  width: 100%;
  min-height: 100vh;
  overflow-x: visible !important;
}

/* Ensure Neue Haas Grotesk is used everywhere */
button,
input,
textarea,
select,
optgroup,
option {
  font-family: neue-haas-grotesk-display, system-ui, sans-serif;
}

/* Ensure pseudo-elements also use Neue Haas Grotesk */
*::placeholder {
  font-family: neue-haas-grotesk-display, system-ui, sans-serif;
}

.container {
  max-width: 1536px;
  width: 100%;
  margin: 0 auto;
  padding: 104px 208px;
  overflow-x: visible !important;
}

/* Main Layout */
.main-layout {
  display: flex;
  gap: 24px;
  flex-wrap: nowrap;
}

.main-content {
  flex: 1 1 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 32px;
  margin-bottom: 80px;
  width: 100%;
}

/* Navigation */
.navigation {
  width: 100%;
  background-color: #ffffff;
  border-bottom: 2px solid #d9d8d8;
  box-shadow: 0px 2px 10px 2px rgba(0, 0, 0, 0.1);
  position: fixed;
  z-index: 10;
}

.nav-content {
  display: flex;
  justify-content: space-between;
  align-items: end;
  height: 80px;
  padding: 0 208px;
}

.nav-tabs {
  display: flex;
  gap: 16px;
  align-items: center;
  height: 60%;
}

.nav-tab {
  padding: 0px 4px;
  font-size: 11px;
  font-weight: 600;
  color: #8e8b8b;
  text-decoration: none;
  border-bottom: 2px solid transparent;
  height: 108%;
  display: flex;
  align-items: center;
}

.nav-tab.active {
  color: #423e3e;
  border-bottom-color: #8e8b8b;
}

/* Image Carousel */
.carousel-container {
  width: 100%;
  margin-bottom: 24px;
  position: relative;
  overflow: hidden;
}

.carousel-radio {
  display: none;
}

.carousel-slides {
  display: flex;
  width: 2500%;
  transition: transform 0.3s ease-in-out;
  height: 615px;
}

.carousel-item {
  width: 4%;
  position: relative;
  flex-shrink: 0;
}

.carousel-item-group {
  display: flex;
  width: 100%;
  flex-shrink: 0;
}

.carousel-image {
  width: 100%;
  height: 615px;
  border-radius: 20px;
  background-color: #fff;
  position: relative;
  overflow: hidden;
  object-fit: cover;
  display: block;
}

.carousel-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.carousel-indicators {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 16px 0;
  position: absolute;
  bottom: 0;
  width: 100%;
  z-index: 1;
  flex-wrap: wrap;
}

.indicator {
  width: 10px;
  height: 10px;
  border-radius: 50px;
  background-color: rgba(255, 255, 255, 0.7);
  cursor: pointer;
  transition: all 0.2s ease;
}

.image-badge {
  position: absolute;
  top: 16px;
  left: 16px;
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 8px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 2;
}

.image-badge img {
  width: 16px;
  height: 16px;
}

.image-badge span {
  font-size: 12px;
  font-weight: 600;
  color: #423e3e;
}

.room-type {
  position: absolute;
  bottom: 16px;
  left: 16px;
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 8px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 2;
}

.room-type img {
  width: 16px;
  height: 16px;
}

.room-type span {
  font-size: 12px;
  font-weight: 600;
  color: #423e3e;
}

/* Section Styles */
.section {
}

.section-subtitle {
  font-size: 14px;
  color: #423e3e;

  line-height: 1.4;
}

/* Sidebar */
.sidebar {
  width: 274px;
  flex-shrink: 0;
  position: sticky;
  top: 104px;
  align-self: flex-start;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
  z-index: 2;
}

.sidebar-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  height: auto;
  min-height: 100%;
}

/* Price Card */
.price-card {
  display: none;
  flex-direction: column;
  gap: 12px;
  padding: 16px;
  background-color: #f7f7f7;
  border: 1px solid #d9d8d8;
  border-radius: 12px;
  padding: 16px;
}

.price-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

.price-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background-color: #2be786;
  border-radius: 50%;
}

.dollar-sign {
  color: white;
  font-weight: 400;
  font-size: 14px;
}

.price-label {
  font-weight: 600;
  font-size: 13px;
  color: #8e8b8b;
}

.price-amount {
  font-weight: 600;
  font-size: 32px;
  line-height: 40px;
  letter-spacing: -0.96px;
  color: #423e3e;
  overflow: hidden;
}

.expanded-content {
  display: block;
  margin-top: 8px;
  padding: 12px;
  background-color: #aaf5cf;
  border-radius: 10px;
}

.expanded-content-label {
  font-size: 13px;
  font-weight: 600;
  color: #423e3e;
  margin-bottom: 2px;
  display: block;
}

.sale-price-section {
  margin-bottom: 16px;
}

.sale-price-label {
  font-weight: 600;
  font-size: 14px;
  color: #423e3e;
  margin-bottom: 4px;
}

.sale-year {
  font-weight: 400;
  color: #8e8b8b;
}

.sale-price-amount {
  font-weight: 600;
  font-size: 20px;
  color: #423e3e;
}

.estimated-costs-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.costs-header {
  font-weight: 600;
  font-size: 14px;
  color: #423e3e;
}

.cost-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.cost-label {
  font-size: 12px;
  color: #8e8b8b;
}

.cost-amount {
  font-weight: 600;
  font-size: 18px;
  color: #423e3e;
}

.less-info-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  background: transparent;
  border: none;
  color: #423e3e;
  cursor: pointer;
  font-size: 12px;
  margin-top: 8px;
}

.dropdown-arrow {
  width: 12px;
  height: 12px;
  transition: transform 0.3s ease;
  display: inline-block;
}

.dropdown-arrow.rotated {
  transform: rotate(180deg);
}

.providers-card {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 12px;
  background-color: #f7f7f7;
  border: 1px solid #d9d8d8;
  border-radius: 12px;
  width: 100%;
}

.providers-title {
  font-weight: 600;
  line-height: 120%;
  font-size: 16px;
  color: #423e3e;
}

.providers-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.provider-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 6px 8px 6px 6px;
  background-color: #ffffff;
  border-radius: 10px;
}

.provider-avatar {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  overflow: hidden;
  flex-shrink: 0;
}

.provider-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
}

.provider-info {
  flex: 1;
}

.provider-header {
  display: flex;
  align-items: center;
  gap: 4px;
  height: 18px;
}

.provider-name {
  font-weight: 400;
  font-size: 14px;
  color: #423e3e;
  position: relative;
  cursor: pointer;
  transition: color 0.2s ease;
  overflow: hidden;
  text-overflow: ellipsis;
}

.provider-name::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 8px;
  padding: 6px 10px;
  background-color: #f7f7f7;
  color: #423e3e;
  border: 1px solid #d9d8d8;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.3s ease,
    visibility 0.3s ease;
  z-index: 1000;
  pointer-events: none;
}

.provider-name::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 2px;
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid #efcea6;
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.3s ease,
    visibility 0.3s ease;
  z-index: 1000;
  pointer-events: none;
}

.provider-name:hover::after,
.provider-name:hover::before {
  opacity: 1;
  visibility: visible;
}

.provider-icon {
  width: 20px;
  height: 20px;
  padding: 0.69px;
}

.provider-contact {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 4px;
}

.phone-info {
  display: flex;
  align-items: center;
  gap: 4px;
}

.phone-icon {
  width: 16px;
  height: 16px;
  display: block;
  color: #2be786; /* Default blue color - you can change this to any color you want */
}

.phone-number {
  font-weight: 400;
  font-size: 10px;
  color: #423e3e;
  text-decoration: none;
}

/* Property Header Styles */
.property-header {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 0 4px;
}

.status-badges {
  display: inline-flex;
  align-items: center;
  gap: 16px;
}

.status-badge {
  background-color: #f0f0f0;
  color: #423e3e;
  padding: 2px 8px;
  border-radius: 4px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  height: 24px;
  line-height: 1;
}

.status-dot {
  width: 6px;
  height: 6px;
  background-color: #2be786;
  border-radius: 50%;
  flex-shrink: 0;
}

.status-text {
  font-size: 13px;
  font-weight: 400;
  line-height: 1;
}

.badge-furnished {
  padding: 4px 8px;
  background-color: #f0f0f0;
  border-radius: 4px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.furnished-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.property-title {
  font-size: 24px;
  font-weight: 600;
  color: #423e3e;
  line-height: 1.2;
  margin: 8px 0;
}

.property-details {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #8e8b8b;
  font-size: 14px;
}

.property-details img {
  width: 16px;
  height: 16px;
}

.property-details span {
  font-weight: 500;
}

.property-details .separator {
  color: #d9d8d8;
}

.share-button {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  color: #8e8b8b;
  text-decoration: none;
  font-size: 12px;
  font-weight: 500;
}

.share-button img {
  width: 14px;
  height: 14px;
}

.share-button span {
  text-decoration: underline;
}

/* Address Information Section */
.address-details {
  padding: 16px 0;
}

.address-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.address-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 12px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.address-label {
  font-size: 12px;
  font-weight: 600;
  color: #8e8b8b;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.address-value {
  font-size: 14px;
  color: #423e3e;
  line-height: 1.4;
  word-break: break-word;
}

.address-fallback {
  padding: 24px;
  text-align: center;
  color: #8e8b8b;
  font-style: italic;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

/* Property Address Styles */
.property-address {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 14px;
}

.location-section {
  padding: 16px 0;
}

.section-title {
  font-size: 24px;
  font-weight: 600;
  line-height: 110%;
  margin-bottom: 12px;
  color: #423e3e;
}

.address-data-points {
  font-size: 18px;
  font-weight: 600;
  color: #423e3e;

  display: block;
}

.address-coordinates {
  font-size: 14px;
  color: #8e8b8b;
  display: block;
}

.address-line {
  display: inline;
  margin-right: 4px;
}

.county-info {
  color: #8e8b8b;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 2px;
}

.county-info img {
  margin: 0 8px;
}

.parcel-id-info {
  color: #423e3e;
  font-size: 13px;
  margin-bottom: 8px;
}

h1 {
  font-size: 32px;
  font-weight: 600;
  letter-spacing: 0em;
  color: #423e3e;
  line-height: 110%;
}

h1 .data-footnote {
  font-size: 13px;
  color: #8e8b8b;
  font-weight: 400 !important;
  vertical-align: super;
  margin-left: 2px;
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s ease;
  line-height: 1;
  position: relative;
  top: -0.3em;
}

h1 .data-footnote:hover {
  color: #423e3e;
}

.breadcrumb {
  display: flex;
  list-style: none;
  padding: 0;
  gap: 8px;
  align-items: center;
}

.breadcrumb li {
  display: inline;
  color: #8e8b8b;
  font-size: 16px;
}

.breadcrumb li[aria-current="page"] {
  font-weight: 400;
  color: #423e3e;
}

.elephant-link {
  color: #8e8b8b;
  text-decoration: underline;
  font-weight: 600;
  letter-spacing: 0.04em;
  transition: color 0.2s ease;
  margin-left: 4px;
}

.elephant-link:hover {
  color: #2be786;
}

.property-divider {
  width: 100%;
  height: 2px;
  background-color: #aaf5cf;
  border: none;
  margin: 24px 0;
}

/* Responsive Styles */
@media (max-width: 1535px) {
  .sidebar {
    width: 274px;
  }
}

@media (max-width: 1280px) {
  .sidebar {
    width: 274px;
  }
  .container {
    padding: 104px 104px;
  }
  .nav-content {
    padding: 0 104px;
  }
}

@media (max-width: 1024px) {
  .sidebar {
    width: 208px;
  }
  .container {
    padding: 104px 52px;
  }
  .nav-content {
    padding: 0 52px;
  }

  .sidebar {
    width: 220px;
  }
  .providers-card {
    padding: 8px;
  }
  .provider-name {
    font-size: 11px;
  }
  .provider-avatar {
    width: 48px;
    height: 48px;
  }
  .provider-item {
    gap: 4px;
    padding: 4px;
  }
  .provider-contact {
    display: flex;
    gap: 0px;
  }
  .phone-info {
    gap: 2px;
  }
  .phone-number,
  .provider-more-info-btn {
    font-size: 9px;
    line-height: 100%;
  }
}

@media (max-width: 768px) {
  .sidebar {
    width: 220px;
  }
  .container {
    padding: 104px 24px;
  }
  .nav-content {
    padding: 0 24px;
    height: 60px;
  }

  .main-layout {
    flex-direction: column;
    position: relative;
  }
  .sidebar {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 1000;
    transform: none !important;
    top: auto !important;
    margin: 0 !important;
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
  }
  .sidebar-content {
    max-height: none;
    padding: 16px;
    overflow-y: visible;
    width: 100%;
    max-width: 400px;
  }
  .providers-card {
    padding: 12px;
  }
  .provider-item {
    padding: 8px;
  }
  .provider-name {
    font-size: 13px;
  }

  .providers-title {
    text-align: center;
  }

  .address-grid {
    grid-template-columns: 1fr;
  }
  .address-item {
    padding: 16px;
  }
}

@media (max-width: 480px) {
  html,
  body {
    font-size: 14px;
  }
  .container {
    padding: 48px 16px 120px 16px;
  }
  .navigation {
    display: none;
  }
  .breadcrumb {
    font-size: 12px;
  }
  .main-layout {
    flex-direction: column;
    position: relative;
  }
  .sidebar {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 1000;
    transform: none !important;
    top: auto !important;
    margin: 0 !important;
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
  }
  .sidebar-content {
    max-height: none;
    padding: 12px;
    overflow-y: visible;
    width: 100%;
    max-width: 400px;
  }
  .providers-card {
    padding: 12px;
  }
  .provider-item {
    padding: 8px;
  }
  .provider-name {
    font-size: 13px;
  }

  .providers-title {
    text-align: center;
  }
}

@media (max-width: 320px) {
  .container {
    padding: 48px 16px 120px 16px;
  }
  .navigation {
    display: none;
  }
  .main-layout {
    flex-direction: column;
    position: relative;
  }
  .sidebar {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 1000;
    transform: none !important;
    top: auto !important;
    margin: 0 !important;
    flex: none !important;
  }
  .sidebar-content {
    padding: 12px;
    max-height: none;
    overflow-y: visible;
  }

  .providers-title {
    text-align: center;
  }
}
.breadcrumb {
  font-size: 12px;
}
.property-history-data-points {
  display: flex;
  flex-direction: column;
  gap: 4px;
  display: none;
}
.history-sale {
  font-size: 13px;
  color: #423e3e;
}

.history-price {
  font-weight: 500;
  color: #423e3e;
}

.history-owner {
  font-weight: 500;
  color: #423e3e;
}

.history-date,
.history-date-paren {
  color: #8e8b8b;
}

.history-entity {
  font-weight: 500;
  color: #423e3e;
}

/* Chart Tabs */
.chart-tabs-container {
  margin-top: 0px;
}

.chart-tabs {
  display: flex;
  gap: 0;

  margin-bottom: 16px;
}

.chart-tab {
  background: none;
  border: none;
  padding: 4px 2px;
  margin-right: 8px;
  font-size: 14px;
  letter-spacing: 0.04em;
  font-weight: 600;
  color: #8e8b8b;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
}

.chart-tab:hover {
  color: #423e3e;
}

.chart-tab.active {
  color: #423e3e;
  border-bottom-color: #423e3e;
}

.chart-content-container {
  position: relative;
}

.chart-content {
  display: none;
}

.chart-content.active {
  display: block;
}

.sales-chart-container {
  margin-top: 0;
  border-radius: 12px;
  height: 300px;
}

/* Chart Customization Variables */
:root {
  /* Line and Fill Colors */
  --chart-line-color: #2be786;
  --chart-fill-color: rgba(75, 130, 212, 0.1);
  --chart-line-width: 2;

  /* Point Styling */
  --chart-point-bg-color: #2be786;
  --chart-point-border-color: #ffffff;
  --chart-point-border-width: 2;
  --chart-point-radius: 4;
  --chart-point-hover-radius: 6;
  --chart-point-hover-bg: #2be786;

  /* Price Labels */
  --chart-price-label-color: #423e3e;
  --chart-price-label-size: 10;
  --chart-price-label-offset: 10;

  /* Axis Styling */
  --chart-axis-color: #423e3e;
  --chart-axis-font-size: 12;
  --chart-axis-font-weight: 400;
  --chart-axis-line-color: #d9d8d8;
  --chart-axis-line-width: 1;
  --chart-axis-line-display: true;

  /* Grid Lines Styling */
  --chart-grid-line-color: #ffffff;
  --chart-grid-line-width: 1;
  --chart-grid-line-display: false;

  /* Tooltip Styling */
  --chart-tooltip-bg: rgba(0, 0, 0, 0.9);
  --chart-tooltip-title-color: #ffffff;
  --chart-tooltip-body-color: #ffffff;
  --chart-tooltip-border-width: 2;
  --chart-tooltip-radius: 10;
  --chart-tooltip-title-size: 13;
  --chart-tooltip-title-weight: 600;
  --chart-tooltip-body-size: 10;
  --chart-tooltip-body-weight: 400;
  --chart-tooltip-padding-x: 12;
  --chart-tooltip-padding-y: 8;
  --chart-tooltip-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  --chart-tooltip-arrow-size: 6;

  /* Font Family */
  --chart-font-family: neue-haas-grotesk-display, system-ui, sans-serif;
}

.data-footnote {
  font-size: 10px;
  color: #8e8b8b;
  font-weight: 400 !important;
  vertical-align: super;
  margin-left: 2px;
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s ease;
}

.data-footnote:hover {
  color: #423e3e;
}

/* EXPANDING FOOTNOTE STYLES - COMMENTED OUT FOR FUTURE USE */
/*
:root {
  --footnote-font-size: 10px;
  --footnote-color: #8E8B8B;
  --footnote-font-weight: 400;
  --footnote-margin-left: 2px;
  --footnote-bg: transparent;
  --footnote-border-radius: 4px;
  --footnote-padding: 4px 4px;
  --footnote-max-width: 20px;
  --footnote-hover-bg: #AAF5CF;
  --footnote-color: #423E3E;
  --footnote-hover-max-width: 300px;
  --footnote-hover-padding: 4px 4px;
  --footnote-label-font-size: 13px;
  --footnote-label-color: #423E3E;
  --footnote-label-font-weight: 500;
  --footnote-label-margin-left: 6px;
  --footnote-label-arrow: "";
  --footnote-mobile-max-width: 200px;
  --footnote-mobile-label-font-size: 9px;
}

.data-footnote {
  position: relative;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  background: var(--footnote-bg);
  border: var(--footnote-border);
  border-radius: var(--footnote-border-radius);
  padding: var(--footnote-padding);
  margin-left: var(--footnote-margin-left);
  transition: all var(--footnote-transition-duration) var(--footnote-transition-timing);
  white-space: nowrap;
  overflow: hidden;
  max-width: var(--footnote-max-width);
  font-size: var(--footnote-font-size);
  color: var(--footnote-color);
  font-weight: var(--footnote-font-weight);
}

.data-footnote:hover {
  background: var(--footnote-hover-bg);
  border: var(--footnote-hover-border);
  max-width: var(--footnote-hover-max-width);
  padding: var(--footnote-hover-padding);
  box-shadow: var(--footnote-hover-shadow);
}

.data-footnote::after {
  content: "View Data Source" var(--footnote-label-arrow);
  margin-left: var(--footnote-label-margin-left);
  font-size: var(--footnote-label-font-size);
  color: var(--footnote-label-color);
  opacity: 0;
  transition: opacity var(--footnote-transition-duration) var(--footnote-transition-timing);
  white-space: nowrap;
  font-weight: var(--footnote-label-font-weight);
}

.data-footnote:hover::after {
  opacity: 1;
}

@media (max-width: 768px) {
  .data-footnote:hover {
    max-width: var(--footnote-mobile-max-width);
  }
  
  .data-footnote::after {
    font-size: var(--footnote-mobile-label-font-size);
  }
}
*/

.data-source-btn {
  display: inline-block;
  padding: 4px 14px;
  background: #f7f7f7;
  color: #423e3e;
  border: 1px solid #d9d8d8;
  border-radius: 32px;
  font-size: 13px;
  font-weight: 600;
  text-decoration: none;
  margin: 2px 0;
  transition:
    background 0.15s,
    color 0.15s,
    border 0.15s;
  cursor: pointer;
}
.data-source-btn:hover,
.data-source-btn:focus {
  background-color: #aaf5cf;
  border: 1px solid #2be786;
}

.data-source-btn-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  margin: 8px 0;
}

.property-history-subheading {
  display: flex;
  align-items: center;

  font-size: 16px;
  font-weight: 600;
  margin-bottom: 8px;
}

/* Footnote styling for all subheadings */
.property-history-subheading .data-footnote,
.tax-subsection-title .data-footnote,
.section-subtitle .data-footnote,
.providers-title .data-footnote {
  font-size: 10px;
  color: #423e3e;
  font-weight: 400 !important;
  vertical-align: super;
  margin-left: 2px;
  line-height: 1;
  position: relative;
  top: -0.5em;
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s ease;
}

.property-history-subheading .data-footnote:hover,
.tax-subsection-title .data-footnote:hover,
.section-subtitle .data-footnote:hover,
.providers-title .data-footnote:hover {
  color: #423e3e;
}

/* Tax Year Subtitle Styling */
.tax-year-subtitle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 10px;
  color: #8e8b8b;
  font-weight: 600;
}

.tax-year-data-points {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 16px;
}

.tax-year-value {
  font-size: 16px;
  color: #423e3e;
  font-weight: 600;
}

/* Show More Buttons - Unified styling for all show more buttons */
.show-more-tax-btn,
.show-more-sales-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  background: transparent;
  border: none;
  color: #8e8b8b;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;

  padding: 4px 0;
  transition: color 0.2s ease;
}

.show-more-tax-btn:hover,
.show-more-sales-btn:hover {
  color: #423e3e;
}

.provider-dropdown-arrow {
  width: 10px;
  height: 10px;
  transition: transform 0.3s ease;
  display: inline-block;
}

.show-more-tax-btn.expanded .provider-dropdown-arrow,
.show-more-sales-btn.expanded .provider-dropdown-arrow,
.provider-more-info-btn.expanded .provider-dropdown-arrow {
  transform: rotate(180deg);
}

/* Additional Tax Years */
.additional-tax-years {
  margin-top: 16px;
  display: none;
  flex-direction: column;
  gap: 16px;
}

.tax-year-section {
  margin-bottom: 16px;
}

.tax-year-section:last-child {
  margin-bottom: 0;
}

.tax-year-header {
  font-size: 13px;
  font-weight: 600;
  color: #423e3e;
  margin-bottom: 12px;
}

.property-history-icon {
  width: 18px;
  background-color: #aaf5cf;
  margin-right: 8px;
  border-radius: 32px;
  height: 18px;
  display: inline-block;
  vertical-align: middle;
}

.location-coordinates-subtitle {
  font-size: 13px;
  color: #423e3e;
  font-weight: 600;

  letter-spacing: 0.01em;
}

.provider-more-info-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  background: transparent;
  border: none;
  color: #8e8b8b;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.02em;
  padding: 4px 0;
  transition: color 0.2s ease;
}

.provider-more-info-btn:hover {
  color: #423e3e;
}

.provider-dropdown-arrow {
  width: 10px;
  height: 10px;
  transition: transform 0.3s ease;
  display: inline-block;
}

.provider-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.provider-detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 11px;
}

.detail-label {
  color: #8e8b8b;
  font-weight: 500;
}

.detail-value {
  color: #423e3e;
  font-weight: 600;
}

.email-info {
  display: flex;
  align-items: center;
  gap: 4px;
}

.email-icon {
  width: 16px;
  height: 16px;
  display: block;
  color: #2be786; /* Match the phone icon color */
}

.email-address {
  font-weight: 400;
  font-size: 10px;
  color: #423e3e;
  text-decoration: none;
}

.tax-information-section {
  padding: 16px 0;
  display: none;
}

.tax-data-points {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  column-gap: 8px;
  row-gap: 12px;
  margin-top: 12px;
}

.tax-data-item {
  display: flex;
  align-items: center;
  border-left: 1px solid #d9d8d8;
  padding: 4px 8px;
  min-width: 140px;
  max-width: 140px;
  flex: 1;
}

.tax-item-divider {
  width: 2px;
  background-color: #d9d8d8;

  flex-shrink: 0;
}

.tax-item-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
  flex: 1;
}

.tax-label {
  font-size: 13px;
  font-weight: 600;
  color: #423e3e;
  line-height: 1.2;
}

.tax-value {
  font-size: 13px;
  color: #423e3e;
  font-weight: 500;
  line-height: 1.3;
}

.tax-subsection {
  margin-bottom: 32px;
}

.tax-subsection:last-child {
  margin-bottom: 0;
}

.tax-subsection-title {
  font-size: 18px;
  font-weight: 600;
  color: #423e3e;
  margin-bottom: 16px;
}

/* === Building Details Section Styling === */
.building-details-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.building-details-grid {
  display: flex;
  gap: 48px;
}

.building-details-column {
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1;
}

.building-overview {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  padding: 16px;
  background-color: #d5fae7;
  border-radius: 12px;
}

.building-detail-item {
  display: flex;
  gap: 16px;
  flex: 1;
}

.building-detail-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 6px;
  padding: 4px 0;
  flex: 1;
}

.building-detail-content img {
  width: 24px;
  height: 24px;
}

.building-detail-text {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.building-detail-title {
  font-size: 13px;
  color: #423e3e;
}

.building-detail-description {
  font-size: 10px;
  color: #8e8b8b;
}

.building-specifications {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.building-spec-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.building-spec-label {
  font-size: 14px;
  font-weight: 600;
  color: #423e3e;
}

.building-spec-value {
  display: flex;
  align-items: end;
  gap: 4px;
}

.building-spec-text {
  font-size: 13px;
  color: #423e3e;
  flex: 1;
}

/* === Floorplan Section Styling === */
.floorplan-header {
  /* Add your styles here */
}
.floorplan-info {
  /* Add your styles here */
}
.floorplan-specs {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.floorplan-specs span {
  font-size: 14px;
  font-weight: 600;
  color: #423e3e;
}

.floorplan-specs img {
  width: 4px;
  height: 4px;
  align-self: center;
}

.floorplan-specs .icon {
  width: 24px;
  height: 24px;
  align-self: center;
}
.floorplan-description {
  display: none;
  /* Add your styles here */
}

/* Property Type Info */
.property-type-info,
.property-type-value {
  margin-top: 8px;
  font-size: 13px;
  color: #8e8b8b;
}

/* Features Container and Grid */
.features-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.features-grid {
  display: flex;
  gap: 48px;
}

/* Features Sections */
.features-section {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 0 4px;
  width: 280px;
}

.features-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.feature-item-detailed {
  display: flex;
  flex-direction: column;
}

.feature-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.feature-row img {
  width: 24px;
  height: 24px;
}

.feature-text-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
  justify-content: center;
}

.feature-main-text {
  font-size: 13px;
  color: #423e3e;
}

.feature-sub-text {
  font-size: 10px;
  color: #8e8b8b;
}

.floorplan-layout {
  gap: 16px;
}

.floor-header {
  display: flex;
  font-size: 13px;
  align-items: center;
  gap: 8px;
  /* Add your styles here */
}
.floor-rooms {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.room-item {
  font-size: 13px;
  font-weight: 600;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.room-properties {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0;
  padding-left: 8px;
  font-size: 13px;
  font-weight: 400;
  color: #6a6a6a;
}
.room-properties li {
  margin: 0;
  padding: 0;
  line-height: 1.4;
}

.room-property-icon {
  width: 18px;
  height: 18px;
  margin-right: 8px;
  vertical-align: middle;
  display: inline-block;
}

/* === Floorplan Side-by-Side Layout === */
.floorplan-floors {
  display: flex;
  flex-direction: row;
  gap: 48px;
}
.floor-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
@media (max-width: 768px) {
  .floorplan-floors {
    flex-direction: column;
    gap: 20px;
  }
  .floor-section {
    padding: 16px 8px;
    gap: 16px;
  }

  .features-grid {
    flex-direction: column;
    gap: 32px;
  }

  .features-section {
    width: 100%;
  }

  .building-details-grid {
    flex-direction: column;
    gap: 24px;
  }

  .chart-tabs {
    gap: 0;
  }

  .chart-tab {
    padding: 2px 8px;
    font-size: 13px;
  }
}

.floor-header img {
  width: 24px;
  height: 24px;
  object-fit: contain;
  display: inline-block;
  vertical-align: middle;
}

.scroll-offset-section {
  scroll-margin-top: 80px;
}

@media (max-width: 768px) {
  .scroll-offset-section {
    scroll-margin-top: 64px;
  }
}

.key-features {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.feature-item {
  display: flex;
  gap: 6px;
  padding: 4px 0;
}

.feature-item img {
  width: 24px;
  height: 24px;
}

.feature-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
}

.feature-title {
  font-size: 13px;
  color: #423e3e;
}

.feature-description {
  font-size: 10px;
  color: #8e8b8b;
}

.separator-line {
  width: 100%;
  height: 1px;
  background-color: #d9d1c8;
}

.highlights-grid {
  display: flex;
  gap: 40px;
}

.highlights-column {
  display: flex;
  flex-direction: column;
  width: 240px;
  gap: 8px;
}

.highlight-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 0;
}

.highlight-item img {
  width: 24px;
  height: 24px;
}

.highlight-text {
  font-size: 13px;
  color: #423e3e;
}

.see-all-button {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.see-all-text {
  font-size: 13px;
  font-weight: 600;
  color: #8e8b8b;
  padding: 6px 0;
  background: none;
  border: none;
  cursor: pointer;
}

.see-all-line {
  width: 100%;
  height: 1px;
  background-color: #d9d1c8;
}
</style>
    
    
    <!-- Use web-safe fonts instead of Adobe Typekit -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
    </style>
</head>
<body>
    


<a href="#main-content" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;">Skip to main content</a>


<!-- Navigation -->
<nav class="navigation">
    <div class="nav-content">
                    <div class="nav-tabs">
                <a href="#property-history" class="nav-tab">Property History</a>
                <a href="#floorplan" class="nav-tab">Floorplan</a>
                <a href="#building-details" class="nav-tab">Building Details</a>
                <a href="#features" class="nav-tab">Property Features</a>
            </div>
    </div>
</nav>

<div class="container">
    <div class="main-layout" id="main-content">
        <!-- Main Content -->
        <div class="main-content">
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <ol class="breadcrumb">
                    <li><a href="/" class="elephant-link">elephant.xyz</a></li>
                </ol>
            </nav>

            <!-- Property Header -->
            <header class="property-header">
                <div class="property-address">
                    <h1>
                        
                            2558
                            
                            Gardens
                            Parkway
                            
                            
                            , Palm Beach Gardens
                            , FL
                            
                        
                    </h1>
                    
                    
                        
                        <div class="county-info">
                            <span>Palm Beach County</span>
                            
                            <img src="https://elephant.xyz/homes/public/ellipse-7.svg" alt="">
                            
                        </div>
                        
                        
                        <div class="address-coordinates">
                            26.8234
                            , -80.1373
                        </div>
                        
                    
                    

                    
                </div>
            </header>

            <!-- Property History Section -->
                <section id="property-history" class="property-history-section scroll-offset-section">
                  <h2 class="section-title">Property History</h2>

                  <div class="property-history-data-points">
                
                
                  
                
                  
                
                
                <!-- Additional sale events (hidden by default) -->
                <div class="additional-sale-events" style="display: none;">
                  
                    
                  
                    
                  
                </div>
                
                <!-- Show More Button for Sale Events -->
                
                
                
                  </div>
              
              <!-- Chart Tabs -->
              
              <div class="chart-tabs-container">
                <div class="chart-tabs">
                  
                  <button class="chart-tab active" data-tab="sales">
                    <span>Sale History</span>
                  </button>
                  
                  
                  <button class="chart-tab " data-tab="tax">
                    <span>Tax Information</span>
                  </button>
                  
                </div>
                
                <!-- Chart Content -->
                <div class="chart-content-container">
                  
                  <div id="sales-chart-content" class="chart-content active">
                    <div class="sales-chart-container">
                      <canvas id="salesPriceChart" width="400" height="200"></canvas>
                    </div>
                  </div>
                  
                  
                  
                  <div id="tax-chart-content" class="chart-content ">
                    <div class="sales-chart-container">
                      <canvas id="taxAssessmentChart" width="400" height="200"></canvas>
                    </div>
                  </div>
                  
                </div>
              </div>
              
                </section>

                <!-- Tax Information Section -->
                <section id="tax-information" class="tax-information-section scroll-offset-section">
                  <h2 class="section-title">Tax Information</h2>
                  
              <!-- Initial Tax Year -->
              
              
              <div class="tax-year-section">
                <h4 class="tax-year-header">Tax Year 2023</h4>
                    <div class="tax-data-points">
                      <!-- Property Assessed Value -->
                  
                      <div class="tax-data-item">
                        <div class="tax-item-divider"></div>
                        <div class="tax-item-content">
                          <span class="tax-label">Assessed Value:</span>
                      <span class="tax-value">$650,000</span>
                        </div>
                      </div>
                  
                      <!-- Property Market Value -->
                  
                      <div class="tax-data-item">
                        <div class="tax-item-divider"></div>
                        <div class="tax-item-content">
                          <span class="tax-label">Market Value:</span>
                      <span class="tax-value">$675,000</span>
                        </div>
                      </div>
                  
                      <!-- Property Building Amount -->
                  
                      <div class="tax-data-item">
                        <div class="tax-item-divider"></div>
                        <div class="tax-item-content">
                          <span class="tax-label">Building Value:</span>
                      <span class="tax-value">$450,000</span>
                        </div>
                      </div>
                  
                      <!-- Property Land Amount -->
                  
                      <div class="tax-data-item">
                        <div class="tax-item-divider"></div>
                        <div class="tax-item-content">
                          <span class="tax-label">Land Value:</span>
                      <span class="tax-value">$200,000</span>
                        </div>
                      </div>
                  
                      <!-- Property Taxable Value -->
                  
                      <!-- Monthly Tax Amount -->
                  
                      <div class="tax-data-item">
                        <div class="tax-item-divider"></div>
                        <div class="tax-item-content">
                          <span class="tax-label">Monthly Tax:</span>
                      <span class="tax-value">$1,250</span>
                        </div>
                      </div>
                  
                      <!-- Tax Period -->
                  
                    </div>
                  </div>
              

              <!-- Show More Button -->
              

              <!-- Additional Tax Years (Hidden by default) -->
              <div class="additional-tax-years" style="display: none;">
                
                  
                

                <!-- Tax Year 3 -->
                


              </div>

                  <!-- Tax Authority Subsection -->
              

                  <!-- Tax Exemptions Subsection -->
              
                </section>

            <!-- Add your content sections here -->
            
            <!-- Floorplan -->
            <div id="floorplan" class="section scroll-offset-section">
                <div class="floorplan-header">
                    <h2 class="section-title">Floorplan</h2>
                </div>
                <div class="floorplan-info">
                    <div class="floorplan-specs">
                        <img src="https://elephant.xyz/homes/public/featuresicons.svg" alt="Bed Icon" class="icon">
                        
                        
                        
                        
                        
                        
                        <span>Beds unknown</span>
                        <img src="https://elephant.xyz/homes/public/ellipse-7.svg" alt="">
                        <span>Baths unknown</span>
                        
                    </div>
                    <div class="floorplan-description">
                        
                            Property layout details
                        
                </div>
                </div>
                
                <!-- Property Type and Units Info -->
                
                
                
                
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                
                
            </div>
            <!-- Building Details -->
            <section id="building-details" class="building-details-section scroll-offset-section">
              <h2 class="section-title">Building Details</h2>
                <div class="building-details-content">
                    <div class="building-details-grid">
                        <!-- First Column -->
                        <div class="building-details-column">
                            <!-- Year Built -->
                            
                            
                            <!-- Legal Description -->
                            
                            
                            <!-- Parcel ID -->
                            
                        </div>
                        
                        <!-- Second Column -->
                        <div class="building-details-column">
                            <!-- Living Area -->
                            
                            
                            <!-- Lot Type -->
                            
                            
                            <!-- Lot Area -->
                            
                        </div>
                    </div>
                    
                    <!-- Additional lot size info (if available) -->
                    
                </div>
            </section>



            <!-- Key Features -->
            

            <!-- Property Features -->
            <section class="section" id="features">
                <h2 class="section-title">Property Features</h2>
                <div class="features-container">
                    <div class="features-grid">
                        <!-- Interior Features -->
                        <div class="features-section">
                            <h3 class="section-subtitle">Interior Features</h3>
                            <div class="features-list">
                                
                                
                                
                            </div>
                        </div>

                        <!-- Exterior Features -->
                        
                    </div>
                </div>
            </section>
        </div>
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-content">
                <!-- Rental Price Card -->
                <div class="price-card">
                    <div class="price-header">
                        <div class="price-icon">
                            <span class="dollar-sign">$</span>
                        </div>
                        <span class="price-label">Last Sale Price</span>
                    </div>
                    <div class="price-amount">$</div>

                    <!-- Expanded Content (Always Visible) -->
                    <div class="expanded-content">
                        <div class="tax-assessment-section">
                            <div class="expanded-content-label">Tax Assessment</div>
                            <div class="tax-assessment-amount">$</div>
                        </div>
                        
                    </div>

                    <button class="less-info-btn" onclick="toggleMoreInfo()">
                        <span>Less Info</span>
                        <img src="https://elephant.xyz/homes/public/uiicons-1.svg" alt="Dropdown" class="dropdown-arrow rotated">
                    </button>
                </div>

                <!-- Service Providers Card -->
                <div class="providers-card">
                    <h3 class="providers-title">Hire top rated service providers</h3>
                    <div class="providers-list">
                        
                        <!-- Default providers -->
                        <div class="provider-item">
                            <div class="provider-avatar">
                                <img src="https://elephant.xyz/homes/public/annette.jpg" alt="Annette Santiago">
                            </div>
                            <div class="provider-info">
                                <div class="provider-header">
                                    <img src="https://elephant.xyz/homes/public/type=real-estate-agent.svg" alt="Provider icon" class="provider-icon">
                                    <span class="provider-name" data-tooltip="Real Estate Agent">Annette Santiago</span>
                                </div>
                                <div class="provider-contact">
                                    <div class="phone-info">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="phone-icon">
                                            <path d="M13.25 14C11.9611 14 10.6472 13.6889 9.30833 13.0667C7.96944 12.4444 6.72778 11.5611 5.58333 10.4167C4.43889 9.27222 3.55556 8.03056 2.93333 6.69167C2.31111 5.35278 2 4.03889 2 2.75C2 2.53567 2.07144 2.35711 2.21433 2.21433C2.35711 2.07144 2.53567 2 2.75 2H5.08333C5.23889 2 5.37222 2.05556 5.48333 2.16667C5.59444 2.27778 5.67222 2.41667 5.71667 2.58333L6.1655 4.67733C6.1885 4.83689 6.18611 4.98056 6.15833 5.10833C6.13056 5.23611 6.07094 5.34572 5.9795 5.43717L4.31667 7.11667C4.60556 7.60556 4.91111 8.06111 5.23333 8.48333C5.55556 8.90556 5.91111 9.30556 6.3 9.68333C6.71111 10.1056 7.14444 10.4917 7.6 10.8417C8.05556 11.1917 8.53333 11.5 9.03333 11.7667L10.6167 10.1333C10.7278 10.0111 10.8564 9.92778 11.0025 9.88333C11.1486 9.83889 11.2922 9.82778 11.4333 9.85L13.4167 10.2833C13.5833 10.3278 13.7222 10.4169 13.8333 10.5507C13.9444 10.6846 14 10.8343 14 11V13.25C14 13.4643 13.9286 13.6429 13.7857 13.7857C13.6429 13.9286 13.4643 14 13.25 14ZM3.81667 6.2L5.16667 4.83333L4.78333 3H3C3.02222 3.46667 3.09722 3.95833 3.225 4.475C3.35278 4.99167 3.55 5.56667 3.81667 6.2ZM9.96667 12.25C10.4222 12.4611 10.9167 12.6333 11.45 12.7667C11.9833 12.9 12.5 12.9778 13 13V11.2167L11.2833 10.8667L9.96667 12.25Z" fill="currentColor"/>
                                        </svg>
                                        <a href="tel:516-725-8750" class="phone-number">561-725-8750</a>
                                    </div>
                                    <button class="provider-more-info-btn" onclick="toggleProviderInfo(this)">
                                        <span>More Info</span>
                                        <img src="https://elephant.xyz/homes/public/uiicons-1.svg" alt="Dropdown" class="provider-dropdown-arrow">
                                    </button>
                                </div>
                                <div class="provider-expanded-content" style="display: none;">
                                    <div class="provider-details">
                                            <div class="email-info">
                                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="email-icon">
                                              <path d="M9.36102 1.8977L15.0985 5.3402C15.2898 5.44145 15.4191 5.57926 15.4866 5.75363C15.5541 5.92801 15.5879 6.09957 15.5879 6.26832V14.0814C15.5879 14.3514 15.4866 14.5877 15.2841 14.7902C15.0816 14.9927 14.8454 15.0939 14.5754 15.0939H3.10039C2.83039 15.0939 2.59414 14.9927 2.39164 14.7902C2.18914 14.5877 2.08789 14.3514 2.08789 14.0814V6.26832C2.08789 6.09957 2.12445 5.92801 2.19758 5.75363C2.2707 5.57926 2.39727 5.44145 2.57727 5.3402L8.31477 1.8977C8.47767 1.8077 8.65339 1.7627 8.84194 1.7627C9.03049 1.7627 9.20352 1.8077 9.36102 1.8977ZM8.83789 9.4577L14.5079 6.13332L8.83789 2.72457L3.16789 6.13332L8.83789 9.4577ZM8.33164 10.2846L3.10039 7.21332V14.0814H14.5754V7.21332L9.34414 10.2846C9.1881 10.3746 9.01969 10.4196 8.8389 10.4196C8.65823 10.4196 8.48914 10.3746 8.33164 10.2846Z" fill="currentColor"/>
                                            </svg>
                                                <a href="mailto:annette@example.com" class="email-address">annette@example.com</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="property-divider"></div>
    
    <div id="datasrc" class="data-footnotes">
      <div class="data-source-btn-row" style="font-size:12px; color:#8E8B8B; padding-left:0;">
        
        
        </div>
    </div>
    
</div>


<!-- JS is inlined -->

<script>
  document.addEventListener('DOMContentLoaded',()=>{
    if(location.hash){
      const el=document.querySelector(location.hash);
      if(el){
        el.focus();
      }
    }
  });
</script>

    
    
        <script>/**
 * @file Contains all the client-side JavaScript for the property listing page.
 * This includes functionality for the image carousel, smooth scrolling navigation,
 * and event tracking.
 */

/* global getComputedStyle */

/**
 * Handles the logic for displaying the next image in the carousel.
 * It finds the currently selected radio button and checks the next one in the sequence,
 * looping back to the beginning if the last image is currently displayed.
 */
// eslint-disable-next-line no-unused-vars
function nextImage() {
  // Get all radio buttons
  const radios = document.querySelectorAll('input[name="carousel-radio"]');

  let currentIndex = 0;
  for (let i = 0; i < radios.length; i++) {
    if (radios[i].checked) {
      currentIndex = i;
      break;
    }
  }

  // Calculate next index (loop back to 0 if at the end)
  const nextIndex = (currentIndex + 1) % radios.length;

  // Check the next radio button
  radios[nextIndex].checked = true;
}

/**
 * Tracks an event for analytics.
 * @param {string} eventName - The name of the event to track.
 * @param {object} eventProperties - Additional properties for the event.
 */
function trackEvent(eventName, eventProperties) {
  // Placeholder for a real analytics service like Google Analytics, Mixpanel, etc.
  // eslint-disable-next-line no-console
  console.log(`Tracking Event: ${eventName}`, eventProperties);
  // Example for GA:
  // if (typeof gtag === 'function') {
  //     gtag('event', eventName, eventProperties);
  // }
}

/**
 * Sets up smooth scrolling and active state handling for navigation tabs.
 * When a tab is clicked, it scrolls to the corresponding section
 * and marks the tab as active.
 */
function setupNavigation() {
  const navTabs = document.querySelectorAll(".nav-tab");

  navTabs.forEach((tab) => {
    tab.addEventListener("click", function (e) {
      e.preventDefault();

      // Remove active class from all tabs
      navTabs.forEach((t) => t.classList.remove("active"));
      // Add active class to clicked tab
      this.classList.add("active");

      // Get target section
      const targetId = this.getAttribute("href");
      const targetSection = document.querySelector(targetId);

      if (targetSection) {
        // Smooth scroll to section
        targetSection.scrollIntoView({
          behavior: "smooth",
          block: "start",
        });
        trackEvent("navigation_click", { target: targetId });
      }
    });
  });
}

// eslint-disable-next-line no-unused-vars
function toggleMoreInfo() {
  const content = document.querySelector(".expanded-content");
  const arrow = document.querySelector(".dropdown-arrow");
  const button = document.querySelector(".less-info-btn span");

  if (content.style.display === "none") {
    content.style.display = "block";
    arrow.classList.add("rotated");
    button.textContent = "Less Info";
  } else {
    content.style.display = "none";
    arrow.classList.remove("rotated");
    button.textContent = "More Info";
  }
}

/**
 * Toggles the display of additional sale events
 */
// eslint-disable-next-line no-unused-vars
function toggleMoreSalesData() {
  const additionalSales = document.querySelector(".additional-sale-events");
  const button = document.querySelector(".show-more-sales-btn");
  const buttonText = button.querySelector("span");
  const arrow = button.querySelector("img");

  if (additionalSales.style.display === "none") {
    additionalSales.style.display = "block";
    buttonText.textContent = "Show Less Sale Events";
    arrow.style.transform = "rotate(180deg)";
  } else {
    additionalSales.style.display = "none";
    buttonText.textContent = "Show More Sale Events";
    arrow.style.transform = "rotate(0deg)";
  }
}

/**
 * Toggles the display of additional tax years
 */
// eslint-disable-next-line no-unused-vars
function toggleMoreTaxData() {
  const additionalTaxes = document.querySelector(".additional-tax-years");
  const button = document.querySelector(".show-more-tax-btn");
  const buttonText = button.querySelector("span");
  const arrow = button.querySelector("img");

  if (additionalTaxes.style.display === "none") {
    additionalTaxes.style.display = "block";
    buttonText.textContent = "Show Less Tax Years";
    arrow.style.transform = "rotate(180deg)";
  } else {
    additionalTaxes.style.display = "none";
    buttonText.textContent = "Show More Tax Years";
    arrow.style.transform = "rotate(0deg)";
  }
}

/**
 * Toggles provider information display
 */
// eslint-disable-next-line no-unused-vars
function toggleProviderInfo(button) {
  const providerItem = button.closest(".provider-item");
  const expandedContent = providerItem.querySelector(
    ".provider-expanded-content",
  );
  const buttonText = button.querySelector("span");
  const arrow = button.querySelector("img");

  if (expandedContent.style.display === "none") {
    expandedContent.style.display = "block";
    buttonText.textContent = "Less Info";
    arrow.style.transform = "rotate(180deg)";
  } else {
    expandedContent.style.display = "none";
    buttonText.textContent = "More Info";
    arrow.style.transform = "rotate(0deg)";
  }
}

/**
 * Sets up click listeners for chart tabs.
 */
function setupChartTabs() {
  const tabs = document.querySelectorAll(".chart-tab");
  const chartContents = document.querySelectorAll(".chart-content");

  tabs.forEach((tab) => {
    tab.addEventListener("click", () => {
      const tabType = tab.getAttribute("data-tab");

      // Remove active class from all tabs and contents
      tabs.forEach((t) => t.classList.remove("active"));
      chartContents.forEach((content) => content.classList.remove("active"));

      // Add active class to clicked tab
      tab.classList.add("active");

      // Show corresponding chart content
      if (tabType === "sales") {
        const salesContent = document.getElementById("sales-chart-content");
        if (salesContent) {
          salesContent.classList.add("active");
          // Refresh the sales chart when switching to it
          if (window.salesChart) {
            window.salesChart.resize();
          }
        }
      } else if (tabType === "tax") {
        const taxContent = document.getElementById("tax-chart-content");
        if (taxContent) {
          taxContent.classList.add("active");
          // Refresh the tax chart when switching to it
          if (window.taxChart) {
            window.taxChart.resize();
          }
        }
      }
    });
  });
}

/**
 * Sets up the sales price chart using Chart.js
 */
function renderSalesPriceChart() {
  const ctx = document.getElementById("salesPriceChart");
  if (!ctx) return;

  // Clear any existing chart
  if (window.salesChart) {
    window.salesChart.destroy();
  }

  const context = ctx.getContext("2d");

  // Get sales data from the page
  const salesElements = document.querySelectorAll(".history-sale");
  const salesData = [];

  // eslint-disable-next-line no-console
  console.log("Found sales elements:", salesElements.length);

  salesElements.forEach((element) => {
    const priceElement = element.querySelector(".history-price");
    const dateElement = element.querySelector(".history-date");
    const entityElement = element.querySelector(".history-entity");

    if (priceElement && dateElement) {
      const priceText = priceElement.textContent.replace(/[$,]/g, "");
      const price = parseFloat(priceText);
      const date = dateElement.textContent;
      const owner = entityElement
        ? entityElement.textContent.replace(/^-?\s*/, "")
        : null;

      // eslint-disable-next-line no-console
      console.log("Processing sale:", { price, date, owner });

      if (!isNaN(price) && date) {
        salesData.push({
          date: date,
          amount: price,
          owner: owner,
        });
      }
    }
  });

  // eslint-disable-next-line no-console
  console.log("Final sales data:", salesData);

  // Sort by date (oldest first)
  salesData.sort((a, b) => {
    const dateA = new Date(a.date);
    const dateB = new Date(b.date);
    return dateA - dateB;
  });

  // Extract only the year from the date string for x-axis labels
  const labels = salesData.map((entry) => {
    // Try to extract a 4-digit year from the string
    const match = entry.date.match(/\d{4}/);
    return match ? match[0] : entry.date;
  });
  const prices = salesData.map((entry) => entry.amount);

  // Add current year to the timeline if it's not already present
  const currentYear = new Date().getFullYear().toString();
  if (!labels.includes(currentYear)) {
    labels.push(currentYear);
    prices.push(null); // No price data for current year
  }

  // Check if Chart.js is available
  if (typeof Chart === "undefined") {
    // eslint-disable-next-line no-console
    console.warn("Chart.js is not loaded. Chart will not be rendered.");
    return;
  }

  // Helper function to get CSS custom property with fallback
  function getCSSVar(property, fallback) {
    const value = getComputedStyle(document.documentElement).getPropertyValue(
      property,
    );
    return value ? value.trim() : fallback;
  }

  // eslint-disable-next-line no-undef
  window.salesChart = new Chart(context, {
    type: "line",
    data: {
      labels: labels,
      datasets: [
        {
          label: "Sale Price",
          data: prices,
          // Add metadata for tooltips
          saleData: salesData,
          fill: false,
          borderColor: getCSSVar("--chart-line-color", "#4b82d4"),
          backgroundColor: getCSSVar(
            "--chart-fill-color",
            "rgba(75, 130, 212, 0.1)",
          ),
          borderWidth: parseInt(getCSSVar("--chart-line-width", "2")),
          pointBackgroundColor: getCSSVar("--chart-point-bg-color", "#4b82d4"),
          pointBorderWidth: 0,
          pointRadius: parseInt(getCSSVar("--chart-point-radius", "6")),
          pointHoverRadius: parseInt(
            getCSSVar("--chart-point-hover-radius", "8"),
          ),
          tension: 0.1,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      animation: false,
      plugins: {
        legend: {
          display: false,
        },
        tooltip: {
          backgroundColor: getCSSVar(
            "--chart-tooltip-bg",
            "rgba(0, 0, 0, 0.9)",
          ),
          titleColor: getCSSVar("--chart-tooltip-title-color", "#ffffff"),
          bodyColor: getCSSVar("--chart-tooltip-body-color", "#ffffff"),
          borderWidth: 0,
          cornerRadius: parseInt(getCSSVar("--chart-tooltip-radius", "12")),
          displayColors: false,
          padding: {
            x: parseInt(getCSSVar("--chart-tooltip-padding-x", "12")),
            y: parseInt(getCSSVar("--chart-tooltip-padding-y", "8")),
          },
          titleFont: {
            family: getCSSVar(
              "--chart-font-family",
              "neue-haas-grotesk-display, system-ui, sans-serif",
            ),
            size: parseInt(getCSSVar("--chart-tooltip-title-size", "14")),
            weight: getCSSVar("--chart-tooltip-title-weight", "600"),
          },
          bodyFont: {
            family: getCSSVar(
              "--chart-font-family",
              "neue-haas-grotesk-display, system-ui, sans-serif",
            ),
            size: parseInt(getCSSVar("--chart-tooltip-body-size", "12")),
            weight: getCSSVar("--chart-tooltip-body-weight", "400"),
          },
          enabled: true,
          mode: "nearest",
          intersect: true,
          animation: false,
          callbacks: {
            title: function (tooltipItems) {
              // eslint-disable-next-line no-console
              console.log("Tooltip title callback:", tooltipItems);
              const tooltipItem = tooltipItems[0];
              if (
                tooltipItem &&
                tooltipItem.dataset &&
                tooltipItem.dataset.saleData
              ) {
                const saleData =
                  tooltipItem.dataset.saleData[tooltipItem.dataIndex];
                // eslint-disable-next-line no-console
                console.log("Sale data for tooltip:", saleData);
                return saleData ? saleData.date : tooltipItem.label;
              }
              return tooltipItem ? tooltipItem.label : "";
            },
            label: function (tooltipItem) {
              // eslint-disable-next-line no-console
              console.log("Tooltip label callback:", tooltipItem);
              if (
                tooltipItem &&
                tooltipItem.dataset &&
                tooltipItem.dataset.saleData
              ) {
                const saleData =
                  tooltipItem.dataset.saleData[tooltipItem.dataIndex];
                const lines = [];

                lines.push(
                  "Sale Price: $" + tooltipItem.parsed.y.toLocaleString(),
                );

                if (saleData && saleData.owner) {
                  // Add comma after the last name (assuming format is "Last First")
                  const ownerName = saleData.owner.trim();
                  const nameParts = ownerName.split(" ");
                  if (nameParts.length >= 2) {
                    // If there are at least 2 parts, put comma after the first part (last name)
                    const lastName = nameParts[0];
                    const firstName = nameParts.slice(1).join(" ");
                    lines.push("Owner: " + lastName + ", " + firstName);
                  } else {
                    // If only one part, just add comma at the end
                    lines.push("Owner: " + ownerName + ",");
                  }
                }

                // eslint-disable-next-line no-console
                console.log("Tooltip lines:", lines);
                return lines;
              }
              return ["Sale Price: $" + tooltipItem.parsed.y.toLocaleString()];
            },
          },
        },
        // Custom plugin to draw price labels below each point
        datalabelsBelow: false, // just a placeholder for config
      },
      scales: {
        x: {
          type: "category",
          grid: {
            display: getCSSVar("--chart-grid-line-display", "false") === "true",
            color: getCSSVar("--chart-grid-line-color", "#f0f0f0"),
            lineWidth: parseInt(getCSSVar("--chart-grid-line-width", "1")),
          },
          border: {
            display: getCSSVar("--chart-axis-line-display", "true") === "true",
            color: getCSSVar("--chart-axis-line-color", "#d9d8d8"),
            width: parseInt(getCSSVar("--chart-axis-line-width", "1")),
          },
          ticks: {
            color: getCSSVar("--chart-axis-color", "#8e8b8b"),
            font: {
              family: getCSSVar(
                "--chart-font-family",
                "neue-haas-grotesk-display, system-ui, sans-serif",
              ),
              size: parseInt(getCSSVar("--chart-axis-font-size", "12")),
              weight: getCSSVar("--chart-axis-font-weight", "400"),
            },
          },
        },
        y: {
          beginAtZero: false,
          display: getCSSVar("--chart-grid-line-display", "false") === "true",
          grid: {
            display: getCSSVar("--chart-grid-line-display", "false") === "true",
            color: getCSSVar("--chart-grid-line-color", "#f0f0f0"),
            lineWidth: parseInt(getCSSVar("--chart-grid-line-width", "1")),
          },
        },
      },
      elements: {
        point: {
          hoverBackgroundColor: getCSSVar("--chart-point-hover-bg", "#4b82d4"),
        },
      },
    },
    plugins: [
      {
        id: "priceLabelsBelow",
        afterDatasetsDraw(chart, _args, _pluginOptions) {
          const { ctx, chartArea } = chart;
          const dataset = chart.data.datasets[0];
          const meta = chart.getDatasetMeta(0);
          ctx.save();
          ctx.font = `${getCSSVar("--chart-price-label-size", "12")}px ${getCSSVar("--chart-font-family", "neue-haas-grotesk-display, system-ui, sans-serif")}`;
          ctx.fillStyle = getCSSVar("--chart-price-label-color", "#423e3e");

          // Store label positions to check for overlaps
          const labelPositions = [];

          meta.data.forEach((point, i) => {
            const price = dataset.data[i];
            if (price == null || isNaN(price) || price === null) return;

            const x = point.x;
            const y = point.y;
            // Format label as $XXX.Xk
            const label = `$${(price / 1000).toFixed(1)}k`;

            // Measure text dimensions
            const textMetrics = ctx.measureText(label);
            const textWidth = textMetrics.width;
            const textHeight = parseInt(
              getCSSVar("--chart-price-label-size", "12"),
            );

            // Determine intelligent position priority based on data point location
            let positions = [];

            // Check if this point is near the top of the chart (good for below positioning)
            const isNearTop = y < chartArea.top + 50;
            // Check if this point is near the bottom of the chart (good for above positioning)
            const isNearBottom = y > chartArea.bottom - 50;
            // Check if this point is near the left edge (good for right positioning)
            const isNearLeft = x < chartArea.left + 80;
            // Check if this point is near the right edge (good for left positioning)
            const isNearRight = x > chartArea.right - 80;

            // Build position array based on chart location
            if (isNearTop) {
              // Near top - prefer below, then right/left, then above
              positions = [
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
              ];
            } else if (isNearBottom) {
              // Near bottom - prefer above, then right/left, then below
              positions = [
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
              ];
            } else if (isNearLeft) {
              // Near left - prefer right, then above/below, then left
              positions = [
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
              ];
            } else if (isNearRight) {
              // Near right - prefer left, then above/below, then right
              positions = [
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
              ];
            } else {
              // Middle of chart - prefer above/below, then left/right
              positions = [
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
              ];
            }

            // Check for overlap with existing labels and chart line
            let bestPosition = positions[0];
            let minOverlap = Infinity;

            positions.forEach((pos) => {
              const labelBounds = {
                left:
                  pos.x -
                  (pos.align === "center"
                    ? textWidth / 2
                    : pos.align === "right"
                      ? textWidth
                      : 0),
                right:
                  pos.x +
                  (pos.align === "center"
                    ? textWidth / 2
                    : pos.align === "left"
                      ? textWidth
                      : 0),
                top:
                  pos.y -
                  (pos.baseline === "middle"
                    ? textHeight / 2
                    : pos.baseline === "bottom"
                      ? textHeight
                      : 0),
                bottom:
                  pos.y +
                  (pos.baseline === "middle"
                    ? textHeight / 2
                    : pos.baseline === "top"
                      ? textHeight
                      : 0),
              };

              // Check overlap with existing labels
              let totalOverlap = 0;
              let hasOverlap = false;
              labelPositions.forEach((existingLabel) => {
                const overlap =
                  Math.max(
                    0,
                    Math.min(labelBounds.right, existingLabel.right) -
                      Math.max(labelBounds.left, existingLabel.left),
                  ) *
                  Math.max(
                    0,
                    Math.min(labelBounds.bottom, existingLabel.bottom) -
                      Math.max(labelBounds.top, existingLabel.top),
                  );
                totalOverlap += overlap;
                if (overlap > 0) hasOverlap = true;
              });

              // Check if position is within chart area with padding
              const padding = 5;
              const withinBounds =
                labelBounds.left >= chartArea.left + padding &&
                labelBounds.right <= chartArea.right - padding &&
                labelBounds.top >= chartArea.top + padding &&
                labelBounds.bottom <= chartArea.bottom - padding;

              // Prefer positions with no overlap and within bounds
              if (withinBounds && !hasOverlap) {
                bestPosition = pos;
                minOverlap = 0;
                return; // Found a perfect position, use it
              } else if (withinBounds && totalOverlap < minOverlap) {
                minOverlap = totalOverlap;
                bestPosition = pos;
              }
            });

            // If all standard positions have overlaps, try diagonal positions within 16px
            if (minOverlap > 0) {
              const fallbackPositions = [
                { x: x + 12, y: y + 12, align: "left", baseline: "top" }, // Diagonal bottom-right
                { x: x - 12, y: y + 12, align: "right", baseline: "top" }, // Diagonal bottom-left
                { x: x + 12, y: y - 12, align: "left", baseline: "bottom" }, // Diagonal top-right
                { x: x - 12, y: y - 12, align: "right", baseline: "bottom" }, // Diagonal top-left
              ];

              fallbackPositions.forEach((pos) => {
                const labelBounds = {
                  left:
                    pos.x -
                    (pos.align === "center"
                      ? textWidth / 2
                      : pos.align === "right"
                        ? textWidth
                        : 0),
                  right:
                    pos.x +
                    (pos.align === "center"
                      ? textWidth / 2
                      : pos.align === "left"
                        ? textWidth
                        : 0),
                  top:
                    pos.y -
                    (pos.baseline === "middle"
                      ? textHeight / 2
                      : pos.baseline === "bottom"
                        ? textHeight
                        : 0),
                  bottom:
                    pos.y +
                    (pos.baseline === "middle"
                      ? textHeight / 2
                      : pos.baseline === "top"
                        ? textHeight
                        : 0),
                };

                let totalOverlap = 0;
                let hasOverlap = false;
                labelPositions.forEach((existingLabel) => {
                  const overlap =
                    Math.max(
                      0,
                      Math.min(labelBounds.right, existingLabel.right) -
                        Math.max(labelBounds.left, existingLabel.left),
                    ) *
                    Math.max(
                      0,
                      Math.min(labelBounds.bottom, existingLabel.bottom) -
                        Math.max(labelBounds.top, existingLabel.top),
                    );
                  totalOverlap += overlap;
                  if (overlap > 0) hasOverlap = true;
                });

                const padding = 5;
                const withinBounds =
                  labelBounds.left >= chartArea.left + padding &&
                  labelBounds.right <= chartArea.right - padding &&
                  labelBounds.top >= chartArea.top + padding &&
                  labelBounds.bottom <= chartArea.bottom - padding;

                if (withinBounds && !hasOverlap) {
                  bestPosition = pos;
                  minOverlap = 0;
                  return;
                } else if (withinBounds && totalOverlap < minOverlap) {
                  minOverlap = totalOverlap;
                  bestPosition = pos;
                }
              });
            }

            // Set text alignment and baseline
            ctx.textAlign = bestPosition.align;
            ctx.textBaseline = bestPosition.baseline;

            // Draw the label
            ctx.fillText(label, bestPosition.x, bestPosition.y);

            // Store this label's position for future overlap checks
            const textMetrics2 = ctx.measureText(label);
            labelPositions.push({
              left:
                bestPosition.x -
                (bestPosition.align === "center"
                  ? textMetrics2.width / 2
                  : bestPosition.align === "right"
                    ? textMetrics2.width
                    : 0),
              right:
                bestPosition.x +
                (bestPosition.align === "center"
                  ? textMetrics2.width / 2
                  : bestPosition.align === "left"
                    ? textMetrics2.width
                    : 0),
              top:
                bestPosition.y -
                (bestPosition.baseline === "middle"
                  ? textHeight / 2
                  : bestPosition.baseline === "bottom"
                    ? textHeight
                    : 0),
              bottom:
                bestPosition.y +
                (bestPosition.baseline === "middle"
                  ? textHeight / 2
                  : bestPosition.baseline === "top"
                    ? textHeight
                    : 0),
            });
          });

          ctx.restore();
        },
      },
    ],
  });
}

/**
 * Sets up the tax assessment chart using Chart.js
 */
function renderTaxAssessmentChart() {
  const ctx = document.getElementById("taxAssessmentChart");
  if (!ctx) return;

  // Clear any existing chart
  if (window.taxChart) {
    window.taxChart.destroy();
  }

  const context = ctx.getContext("2d");

  // Get tax data from the page
  const taxElements = document.querySelectorAll(".tax-year-section");
  const taxData = [];

  // eslint-disable-next-line no-console
  console.log("Found tax elements:", taxElements.length);

  taxElements.forEach((element) => {
    const yearElement = element.querySelector(".tax-year-header");
    const assessedValueElement = element.querySelector(".tax-value");

    if (yearElement && assessedValueElement) {
      const yearText = yearElement.textContent.match(/Tax Year (\d+)/);
      const valueText = assessedValueElement.textContent.replace(/[$,]/g, "");
      const value = parseFloat(valueText);

      // eslint-disable-next-line no-console
      console.log("Processing tax:", {
        year: yearText ? yearText[1] : null,
        value,
      });

      if (yearText && !isNaN(value)) {
        taxData.push({
          year: yearText[1],
          assessedValue: value,
          element: element,
        });
      }
    }
  });

  // eslint-disable-next-line no-console
  console.log("Final tax data:", taxData);

  // Sort by year (oldest first)
  taxData.sort((a, b) => parseInt(a.year) - parseInt(b.year));

  // Extract years and assessed values
  const labels = taxData.map((entry) => entry.year);
  const assessedValues = taxData.map((entry) => entry.assessedValue);

  // Add current year to the timeline if it's not already present
  const currentYear = new Date().getFullYear().toString();
  if (!labels.includes(currentYear)) {
    labels.push(currentYear);
    assessedValues.push(null); // No data for current year
  }

  // Check if Chart.js is available
  if (typeof Chart === "undefined") {
    // eslint-disable-next-line no-console
    console.warn("Chart.js is not loaded. Tax chart will not be rendered.");
    return;
  }

  // Helper function to get CSS custom property with fallback
  function getCSSVar(property, fallback) {
    const value = getComputedStyle(document.documentElement).getPropertyValue(
      property,
    );
    return value ? value.trim() : fallback;
  }

  // eslint-disable-next-line no-undef
  window.taxChart = new Chart(context, {
    type: "line",
    data: {
      labels: labels,
      datasets: [
        {
          label: "Assessed Value",
          data: assessedValues,
          // Add metadata for tooltips
          taxData: taxData,
          fill: false,
          borderColor: getCSSVar("--chart-line-color", "#4b82d4"),
          backgroundColor: getCSSVar(
            "--chart-fill-color",
            "rgba(75, 130, 212, 0.1)",
          ),
          borderWidth: parseInt(getCSSVar("--chart-line-width", "2")),
          pointBackgroundColor: getCSSVar("--chart-point-bg-color", "#4b82d4"),
          pointBorderWidth: 0,
          pointRadius: parseInt(getCSSVar("--chart-point-radius", "6")),
          pointHoverRadius: parseInt(
            getCSSVar("--chart-point-hover-radius", "8"),
          ),
          tension: 0.1,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      animation: false,
      plugins: {
        legend: {
          display: false,
        },
        tooltip: {
          backgroundColor: getCSSVar(
            "--chart-tooltip-bg",
            "rgba(0, 0, 0, 0.9)",
          ),
          titleColor: getCSSVar("--chart-tooltip-title-color", "#ffffff"),
          bodyColor: getCSSVar("--chart-tooltip-body-color", "#ffffff"),
          borderWidth: 0,
          cornerRadius: parseInt(getCSSVar("--chart-tooltip-radius", "12")),
          displayColors: false,
          padding: {
            x: parseInt(getCSSVar("--chart-tooltip-padding-x", "12")),
            y: parseInt(getCSSVar("--chart-tooltip-padding-y", "8")),
          },
          titleFont: {
            family: getCSSVar(
              "--chart-font-family",
              "neue-haas-grotesk-display, system-ui, sans-serif",
            ),
            size: parseInt(getCSSVar("--chart-tooltip-title-size", "14")),
            weight: getCSSVar("--chart-tooltip-title-weight", "600"),
          },
          bodyFont: {
            family: getCSSVar(
              "--chart-font-family",
              "neue-haas-grotesk-display, system-ui, sans-serif",
            ),
            size: parseInt(getCSSVar("--chart-tooltip-body-size", "12")),
            weight: getCSSVar("--chart-tooltip-body-weight", "400"),
          },
          enabled: true,
          mode: "nearest",
          intersect: true,
          animation: false,
          callbacks: {
            title: function (tooltipItems) {
              const tooltipItem = tooltipItems[0];
              if (
                tooltipItem &&
                tooltipItem.dataset &&
                tooltipItem.dataset.taxData
              ) {
                const taxData =
                  tooltipItem.dataset.taxData[tooltipItem.dataIndex];
                return taxData ? `Tax Year ${taxData.year}` : tooltipItem.label;
              }
              return tooltipItem ? tooltipItem.label : "";
            },
            label: function (tooltipItem) {
              if (
                tooltipItem &&
                tooltipItem.dataset &&
                tooltipItem.dataset.taxData
              ) {
                const taxData =
                  tooltipItem.dataset.taxData[tooltipItem.dataIndex];
                const lines = [];

                lines.push(
                  "Assessed Value: $" + tooltipItem.parsed.y.toLocaleString(),
                );

                if (taxData && taxData.element) {
                  // Get all tax values from the DOM element
                  // Note: These elements are queried but not used directly - values are extracted via regex instead

                  // Try to find market value
                  const marketValueText = taxData.element.textContent.match(
                    /Market Value:\s*\$([\d,]+)/,
                  );
                  if (marketValueText) {
                    lines.push("Market Value: $" + marketValueText[1]);
                  }

                  // Try to find building value
                  const buildingValueText = taxData.element.textContent.match(
                    /Building Value:\s*\$([\d,]+)/,
                  );
                  if (buildingValueText) {
                    lines.push("Building Value: $" + buildingValueText[1]);
                  }

                  // Try to find land value
                  const landValueText = taxData.element.textContent.match(
                    /Land Value:\s*\$([\d,]+)/,
                  );
                  if (landValueText) {
                    lines.push("Land Value: $" + landValueText[1]);
                  }

                  // Try to find taxable value
                  const taxableValueText = taxData.element.textContent.match(
                    /Taxable Value:\s*\$([\d,]+)/,
                  );
                  if (taxableValueText) {
                    lines.push("Taxable Value: $" + taxableValueText[1]);
                  }

                  // Try to find monthly tax
                  const monthlyTaxText = taxData.element.textContent.match(
                    /Monthly Tax:\s*\$([\d,]+)/,
                  );
                  if (monthlyTaxText) {
                    lines.push("Monthly Tax: $" + monthlyTaxText[1]);
                  }
                }

                return lines;
              }
              return [
                "Assessed Value: $" + tooltipItem.parsed.y.toLocaleString(),
              ];
            },
          },
        },
        // Custom plugin to draw price labels below each point
        datalabelsBelow: false, // just a placeholder for config
      },
      scales: {
        x: {
          type: "category",
          grid: {
            display: getCSSVar("--chart-grid-line-display", "false") === "true",
            color: getCSSVar("--chart-grid-line-color", "#f0f0f0"),
            lineWidth: parseInt(getCSSVar("--chart-grid-line-width", "1")),
          },
          border: {
            display: getCSSVar("--chart-axis-line-display", "true") === "true",
            color: getCSSVar("--chart-axis-line-color", "#d9d8d8"),
            width: parseInt(getCSSVar("--chart-axis-line-width", "1")),
          },
          ticks: {
            color: getCSSVar("--chart-axis-color", "#8e8b8b"),
            font: {
              family: getCSSVar(
                "--chart-font-family",
                "neue-haas-grotesk-display, system-ui, sans-serif",
              ),
              size: parseInt(getCSSVar("--chart-axis-font-size", "12")),
              weight: getCSSVar("--chart-axis-font-weight", "400"),
            },
          },
        },
        y: {
          beginAtZero: false,
          display: getCSSVar("--chart-grid-line-display", "false") === "true",
          grid: {
            display: getCSSVar("--chart-grid-line-display", "false") === "true",
            color: getCSSVar("--chart-grid-line-color", "#f0f0f0"),
            lineWidth: parseInt(getCSSVar("--chart-grid-line-width", "1")),
          },
        },
      },
      elements: {
        point: {
          hoverBackgroundColor: getCSSVar("--chart-point-hover-bg", "#4b82d4"),
        },
      },
    },
    plugins: [
      {
        id: "taxPriceLabelsBelow",
        afterDatasetsDraw(chart, _args, _pluginOptions) {
          const { ctx, chartArea } = chart;
          const dataset = chart.data.datasets[0];
          const meta = chart.getDatasetMeta(0);
          ctx.save();
          ctx.font = `${getCSSVar("--chart-price-label-size", "12")}px ${getCSSVar("--chart-font-family", "neue-haas-grotesk-display, system-ui, sans-serif")}`;
          ctx.fillStyle = getCSSVar("--chart-price-label-color", "#423e3e");

          // Store label positions to check for overlaps
          const labelPositions = [];

          meta.data.forEach((point, i) => {
            const value = dataset.data[i];
            if (value == null || isNaN(value) || value === null) return;

            const x = point.x;
            const y = point.y;
            // Format label as $XXX.Xk
            const label = `$${(value / 1000).toFixed(1)}k`;

            // Measure text dimensions
            const textMetrics = ctx.measureText(label);
            const textWidth = textMetrics.width;
            const textHeight = parseInt(
              getCSSVar("--chart-price-label-size", "12"),
            );

            // Determine intelligent position priority based on data point location
            let positions = [];

            // Check if this point is near the top of the chart (good for below positioning)
            const isNearTop = y < chartArea.top + 50;
            // Check if this point is near the bottom of the chart (good for above positioning)
            const isNearBottom = y > chartArea.bottom - 50;
            // Check if this point is near the left edge (good for right positioning)
            const isNearLeft = x < chartArea.left + 80;
            // Check if this point is near the right edge (good for left positioning)
            const isNearRight = x > chartArea.right - 80;

            // Build position array based on chart location
            if (isNearTop) {
              // Near top - prefer below, then right/left, then above
              positions = [
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
              ];
            } else if (isNearBottom) {
              // Near bottom - prefer above, then right/left, then below
              positions = [
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
              ];
            } else if (isNearLeft) {
              // Near left - prefer right, then above/below, then left
              positions = [
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
              ];
            } else if (isNearRight) {
              // Near right - prefer left, then above/below, then right
              positions = [
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
              ];
            } else {
              // Middle of chart - prefer above/below, then left/right
              positions = [
                { x: x, y: y - 16, align: "center", baseline: "bottom" }, // Above
                { x: x, y: y + 16, align: "center", baseline: "top" }, // Below
                { x: x + 16, y: y, align: "left", baseline: "middle" }, // Right
                { x: x - 16, y: y, align: "right", baseline: "middle" }, // Left
              ];
            }

            // Check for overlap with existing labels and chart line
            let bestPosition = positions[0];
            let minOverlap = Infinity;

            positions.forEach((pos) => {
              const labelBounds = {
                left:
                  pos.x -
                  (pos.align === "center"
                    ? textWidth / 2
                    : pos.align === "right"
                      ? textWidth
                      : 0),
                right:
                  pos.x +
                  (pos.align === "center"
                    ? textWidth / 2
                    : pos.align === "left"
                      ? textWidth
                      : 0),
                top:
                  pos.y -
                  (pos.baseline === "middle"
                    ? textHeight / 2
                    : pos.baseline === "bottom"
                      ? textHeight
                      : 0),
                bottom:
                  pos.y +
                  (pos.baseline === "middle"
                    ? textHeight / 2
                    : pos.baseline === "top"
                      ? textHeight
                      : 0),
              };

              // Check overlap with existing labels
              let totalOverlap = 0;
              let hasOverlap = false;
              labelPositions.forEach((existingLabel) => {
                const overlap =
                  Math.max(
                    0,
                    Math.min(labelBounds.right, existingLabel.right) -
                      Math.max(labelBounds.left, existingLabel.left),
                  ) *
                  Math.max(
                    0,
                    Math.min(labelBounds.bottom, existingLabel.bottom) -
                      Math.max(labelBounds.top, existingLabel.top),
                  );
                totalOverlap += overlap;
                if (overlap > 0) hasOverlap = true;
              });

              // Check if position is within chart area with padding
              const padding = 5;
              const withinBounds =
                labelBounds.left >= chartArea.left + padding &&
                labelBounds.right <= chartArea.right - padding &&
                labelBounds.top >= chartArea.top + padding &&
                labelBounds.bottom <= chartArea.bottom - padding;

              // Prefer positions with no overlap and within bounds
              if (withinBounds && !hasOverlap) {
                bestPosition = pos;
                minOverlap = 0;
                return; // Found a perfect position, use it
              } else if (withinBounds && totalOverlap < minOverlap) {
                minOverlap = totalOverlap;
                bestPosition = pos;
              }
            });

            // If all standard positions have overlaps, try diagonal positions within 16px
            if (minOverlap > 0) {
              const fallbackPositions = [
                { x: x + 12, y: y + 12, align: "left", baseline: "top" }, // Diagonal bottom-right
                { x: x - 12, y: y + 12, align: "right", baseline: "top" }, // Diagonal bottom-left
                { x: x + 12, y: y - 12, align: "left", baseline: "bottom" }, // Diagonal top-right
                { x: x - 12, y: y - 12, align: "right", baseline: "bottom" }, // Diagonal top-left
              ];

              fallbackPositions.forEach((pos) => {
                const labelBounds = {
                  left:
                    pos.x -
                    (pos.align === "center"
                      ? textWidth / 2
                      : pos.align === "right"
                        ? textWidth
                        : 0),
                  right:
                    pos.x +
                    (pos.align === "center"
                      ? textWidth / 2
                      : pos.align === "left"
                        ? textWidth
                        : 0),
                  top:
                    pos.y -
                    (pos.baseline === "middle"
                      ? textHeight / 2
                      : pos.baseline === "bottom"
                        ? textHeight
                        : 0),
                  bottom:
                    pos.y +
                    (pos.baseline === "middle"
                      ? textHeight / 2
                      : pos.baseline === "top"
                        ? textHeight
                        : 0),
                };

                let totalOverlap = 0;
                let hasOverlap = false;
                labelPositions.forEach((existingLabel) => {
                  const overlap =
                    Math.max(
                      0,
                      Math.min(labelBounds.right, existingLabel.right) -
                        Math.max(labelBounds.left, existingLabel.left),
                    ) *
                    Math.max(
                      0,
                      Math.min(labelBounds.bottom, existingLabel.bottom) -
                        Math.max(labelBounds.top, existingLabel.top),
                    );
                  totalOverlap += overlap;
                  if (overlap > 0) hasOverlap = true;
                });

                const padding = 5;
                const withinBounds =
                  labelBounds.left >= chartArea.left + padding &&
                  labelBounds.right <= chartArea.right - padding &&
                  labelBounds.top >= chartArea.top + padding &&
                  labelBounds.bottom <= chartArea.bottom - padding;

                if (withinBounds && !hasOverlap) {
                  bestPosition = pos;
                  minOverlap = 0;
                  return;
                } else if (withinBounds && totalOverlap < minOverlap) {
                  minOverlap = totalOverlap;
                  bestPosition = pos;
                }
              });
            }

            // Set text alignment and baseline
            ctx.textAlign = bestPosition.align;
            ctx.textBaseline = bestPosition.baseline;

            // Draw the label
            ctx.fillText(label, bestPosition.x, bestPosition.y);

            // Store this label's position for future overlap checks
            const textMetrics2 = ctx.measureText(label);
            labelPositions.push({
              left:
                bestPosition.x -
                (bestPosition.align === "center"
                  ? textMetrics2.width / 2
                  : bestPosition.align === "right"
                    ? textMetrics2.width
                    : 0),
              right:
                bestPosition.x +
                (bestPosition.align === "center"
                  ? textMetrics2.width / 2
                  : bestPosition.align === "left"
                    ? textMetrics2.width
                    : 0),
              top:
                bestPosition.y -
                (bestPosition.baseline === "middle"
                  ? textHeight / 2
                  : bestPosition.baseline === "bottom"
                    ? textHeight
                    : 0),
              bottom:
                bestPosition.y +
                (bestPosition.baseline === "middle"
                  ? textHeight / 2
                  : bestPosition.baseline === "top"
                    ? textHeight
                    : 0),
            });
          });

          ctx.restore();
        },
      },
    ],
  });
}

// eslint-disable-next-line no-unused-vars
function togglePriceCardInfo(btn) {
  const expanded = btn.getAttribute("aria-expanded") === "true";
  btn.setAttribute("aria-expanded", !expanded);
  const card = btn.closest(".price-card");
  const content = card.querySelector(".expanded-content");
  if (!expanded) {
    content.style.display = "block";
    btn.innerHTML =
      'Less Info <img src="https://elephant.xyz/homes/public/dropdown-arrow.svg" alt="Collapse" class="expander-icon">';
  } else {
    content.style.display = "none";
    btn.innerHTML =
      'More Info <img src="https://elephant.xyz/homes/public/dropdown-arrow.svg" alt="Expand" class="expander-icon">';
  }
}

// eslint-disable-next-line no-unused-vars
function toggleSalesEvents(btn) {
  const salesColumn = btn.closest("#sales-events-column");
  const hiddenEvents = salesColumn.querySelectorAll(".sale-event-hidden");
  const isExpanded = btn.classList.contains("expanded");

  if (!isExpanded) {
    hiddenEvents.forEach((ev) => (ev.style.display = "flex"));
    btn.classList.add("expanded");
    btn.innerHTML =
      'Show Less <img src="https://elephant.xyz/homes/public/dropdown-arrow.svg" class="show-arrow rotated" alt="Collapse">';
  } else {
    hiddenEvents.forEach((ev) => (ev.style.display = "none"));
    btn.classList.remove("expanded");
    btn.innerHTML =
      'Show More <img src="https://elephant.xyz/homes/public/dropdown-arrow.svg" class="show-arrow" alt="Expand">';
  }
}

/**
 * Refreshes the sales price chart to apply new CSS custom properties
 */
// eslint-disable-next-line no-unused-vars
function refreshSalesChart() {
  renderSalesPriceChart();
}

/**
 * Refreshes the tax assessment chart to apply new CSS custom properties
 */
// eslint-disable-next-line no-unused-vars
function refreshTaxChart() {
  renderTaxAssessmentChart();
}

// Hide navigation if page content does not exceed viewport height
function toggleNavigationOnShortPage() {
  const nav = document.getElementById("main-navigation");
  if (!nav) return;
  if (document.body.scrollHeight <= window.innerHeight) {
    nav.style.display = "none";
  } else {
    nav.style.display = "";
  }
}

/**
 * Initializes all the JavaScript functionality when the DOM is loaded.
 */
document.addEventListener("DOMContentLoaded", function () {
  setupNavigation();
  setupChartTabs();
  toggleNavigationOnShortPage();

  // Initialize the charts with a small delay to ensure CSS is loaded
  setTimeout(() => {
    renderSalesPriceChart();
    renderTaxAssessmentChart();
  }, 100);
});
</script>
    
</body>
</html> 